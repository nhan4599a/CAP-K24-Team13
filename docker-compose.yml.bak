services:
  ApiGateWay:
    image: gateway
    ports:
      - 3000:80
    restart: always
  CheckoutService:
    image: checkout_service
    ports:
      - 3001:80
    restart: always
  OrderHistoryService:
    image: order_history_service
    ports:
      - 3002:80
    restart: always
  RatingService:
    image: rating_service
    ports:
      - 3003:80
    restart: always
  ShopInterfaceService:
    image: interface_service
    ports:
      - 3004:80
    restart: always
  ShopProductService:
    image: product_service
    ports:
      - 3005:80
    restart: always
  GUI:
    image: gui
    ports:
      - 3006:80
    restart: always
  ServiceDiscovery:
    image: consul:latest
    ports:
      - 8500:8500
      - 8600:8600/udp
    command: "agent -retry-join -server -ui -node server-1 -client 0.0.0.0"